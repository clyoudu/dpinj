package github.clyoudu.dpinj.observer;

import org.junit.Test;

/**
 * Create by IntelliJ IDEA
 *
 * @author chenlei
 * @dateTime 2019/3/15 9:28
 * @description TestObserver
 */
public class TestObserver {

    private static final Object lock = new Object();

    @Test
    public void test() throws InterruptedException {
        Scheduler scheduler = new Scheduler(10);
        Trigger trigger1 = new Trigger("0/5 * * * * ?");
        Trigger trigger2 = new Trigger("0 0/1 * * * ?");
        scheduler.schedule(trigger1, new Job1());
        scheduler.schedule(trigger2, new Job2());

        synchronized (lock) {
            lock.wait();
        }
    }
    /*
    [2019-03-15 11:26:10] Job1 at [2019-03-15T11:26:10+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:15] Job1 at [2019-03-15T11:26:15+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:20] Job1 at [2019-03-15T11:26:20+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:25] Job1 at [2019-03-15T11:26:25+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:30] Job1 at [2019-03-15T11:26:30+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:35] Job1 at [2019-03-15T11:26:35+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:40] Job1 at [2019-03-15T11:26:40+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:45] Job1 at [2019-03-15T11:26:45+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:50] Job1 at [2019-03-15T11:26:50+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:26:55] Job1 at [2019-03-15T11:26:55+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:00] Job1 at [2019-03-15T11:27+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:00] Job2 at [2019-03-15T11:27+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:05] Job1 at [2019-03-15T11:27:05+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:10] Job1 at [2019-03-15T11:27:10+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:15] Job1 at [2019-03-15T11:27:15+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:20] Job1 at [2019-03-15T11:27:20+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:25] Job1 at [2019-03-15T11:27:25+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:30] Job1 at [2019-03-15T11:27:30+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:35] Job1 at [2019-03-15T11:27:35+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:40] Job1 at [2019-03-15T11:27:40+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:45] Job1 at [2019-03-15T11:27:45+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:50] Job1 at [2019-03-15T11:27:50+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:27:55] Job1 at [2019-03-15T11:27:55+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:28:00] Job1 at [2019-03-15T11:28+08:00[Asia/Shanghai]] start...
    [2019-03-15 11:28:00] Job2 at [2019-03-15T11:28+08:00[Asia/Shanghai]] start...
     */
}
